{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst preact_1 = require(\"preact\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nconst LinkDialog_1 = require(\"./LinkDialog\");\n\nclass LinkFlow {\n  constructor(options) {\n    this.subscriptions = new rxjs_1.Subscription();\n    this.isConnected = false;\n    this.isOpen = false;\n    this.onCancel = null;\n    this.root = null;\n    this.darkMode = options.darkMode;\n    this.version = options.version;\n    this.sessionId = options.sessionId;\n    this.sessionSecret = options.sessionSecret;\n    this.walletLinkUrl = options.walletLinkUrl;\n    this.connected$ = options.connected$;\n  }\n\n  attach(el) {\n    this.root = document.createElement(\"div\");\n    this.root.className = \"-walletlink-link-flow-root\";\n    el.appendChild(this.root);\n    this.render();\n    this.subscriptions.add(this.connected$.subscribe(v => {\n      if (this.isConnected !== v) {\n        this.isConnected = v;\n        this.render();\n      }\n    }));\n  }\n\n  detach() {\n    var _a;\n\n    if (!this.root) {\n      return;\n    }\n\n    this.subscriptions.unsubscribe();\n    preact_1.render(null, this.root);\n    (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n  }\n\n  open(options) {\n    this.isOpen = true;\n    this.onCancel = options.onCancel;\n    this.render();\n  }\n\n  close() {\n    this.isOpen = false;\n    this.onCancel = null;\n    this.render();\n  }\n\n  render() {\n    if (!this.root) {\n      return;\n    }\n\n    preact_1.render(preact_1.h(LinkDialog_1.LinkDialog, {\n      darkMode: this.darkMode,\n      version: this.version,\n      sessionId: this.sessionId,\n      sessionSecret: this.sessionSecret,\n      walletLinkUrl: this.walletLinkUrl,\n      isOpen: this.isOpen,\n      isConnected: this.isConnected,\n      onCancel: this.onCancel\n    }), this.root);\n  }\n\n}\n\nexports.LinkFlow = LinkFlow;","map":{"version":3,"sources":["/home/ryann/Documents/Repos/ChainSafe/chainbridge-ui/node_modules/walletlink/dist/components/LinkFlow.js"],"names":["Object","defineProperty","exports","value","preact_1","require","rxjs_1","LinkDialog_1","LinkFlow","constructor","options","subscriptions","Subscription","isConnected","isOpen","onCancel","root","darkMode","version","sessionId","sessionSecret","walletLinkUrl","connected$","attach","el","document","createElement","className","appendChild","render","add","subscribe","v","detach","_a","unsubscribe","parentElement","removeChild","open","close","h","LinkDialog"],"mappings":"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","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.connected$ = options.connected$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        preact_1.render(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        preact_1.render(preact_1.h(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, onCancel: this.onCancel }), this.root);\n    }\n}\nexports.LinkFlow = LinkFlow;\n"]},"metadata":{},"sourceType":"script"}