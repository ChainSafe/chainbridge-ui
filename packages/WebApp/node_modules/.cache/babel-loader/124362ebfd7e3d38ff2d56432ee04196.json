{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.popupConsole = exports.enableByPrefix = exports.getLog = exports.enable = exports.init = exports[\"default\"] = void 0;\n\nvar _this = void 0; // https://stackoverflow.com/questions/7505623/colors-in-javascript-console\n// https://github.com/pimterry/loglevel/blob/master/lib/loglevel.js\n// http://www.color-hex.com/color-palette/5016\n\n\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    if (enabled === void 0) {\n      enabled = false;\n    }\n\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nexports[\"default\"] = Log;\nvar _logs = {};\n\nvar init = function init(prefix, enabled) {\n  var enab = typeof enabled === 'boolean' ? enabled : false;\n  var instance = new Log(prefix, enab);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.init = init;\n\nvar enable = function enable(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enable = enable;\n\nvar getLog = function getLog(args) {\n  // if\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;\n\nvar enableByPrefix = function enableByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n}; // TODO: enable/disable log at runtime\n\n\nexports.enableByPrefix = enableByPrefix;\n\nvar popupConsole = function popupConsole(tag, postMessage) {\n  var c = global.console;\n  var orig = {\n    error: c.error,\n    // warn: c.warn,\n    info: c.info,\n    debug: c.debug,\n    log: c.log\n  };\n  var log = [];\n\n  var inject = function inject(method, level) {\n    return function () {\n      // args.unshift('[popup.js]');\n      var time = new Date().toUTCString();\n\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      log.push([level, time].concat(args));\n      postMessage.apply(_this, [{\n        type: tag,\n        level: level,\n        time: time,\n        args: JSON.stringify(args)\n      } // { type: 'LOG', level: level, time: time, args: JSON.stringify(deepClone(args)) }\n      ]);\n      return method.apply(c, args);\n    };\n  };\n\n  for (var level in orig) {\n    c[level] = inject(orig[level], level);\n  }\n};\n\nexports.popupConsole = popupConsole;","map":{"version":3,"sources":["/home/ryann/Documents/Repos/ChainSafe/chainbridge-ui/node_modules/trezor-connect/lib/utils/debug.js"],"names":["exports","__esModule","popupConsole","enableByPrefix","getLog","enable","init","_this","colors","Log","prefix","enabled","messages","css","_proto","prototype","addMessage","level","_len","arguments","length","args","Array","_key","push","message","timestamp","Date","getTime","log","_len2","_key2","apply","concat","_console","console","error","_len3","_key3","_console2","warn","_len4","_key4","_console3","debug","_len5","_key5","_console4","_logs","enab","instance","_i","_Object$keys","Object","keys","l","logs","_i2","_Object$keys2","sort","a","b","tag","postMessage","c","global","orig","info","inject","method","time","toUTCString","_len6","_key6","type","JSON","stringify"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.popupConsole = exports.enableByPrefix = exports.getLog = exports.enable = exports.init = exports[\"default\"] = void 0;\n\nvar _this = void 0;\n\n// https://stackoverflow.com/questions/7505623/colors-in-javascript-console\n// https://github.com/pimterry/loglevel/blob/master/lib/loglevel.js\n// http://www.color-hex.com/color-palette/5016\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    if (enabled === void 0) {\n      enabled = false;\n    }\n\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nexports[\"default\"] = Log;\nvar _logs = {};\n\nvar init = function init(prefix, enabled) {\n  var enab = typeof enabled === 'boolean' ? enabled : false;\n  var instance = new Log(prefix, enab);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.init = init;\n\nvar enable = function enable(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enable = enable;\n\nvar getLog = function getLog(args) {\n  // if\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;\n\nvar enableByPrefix = function enableByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n}; // TODO: enable/disable log at runtime\n\n\nexports.enableByPrefix = enableByPrefix;\n\nvar popupConsole = function popupConsole(tag, postMessage) {\n  var c = global.console;\n  var orig = {\n    error: c.error,\n    // warn: c.warn,\n    info: c.info,\n    debug: c.debug,\n    log: c.log\n  };\n  var log = [];\n\n  var inject = function inject(method, level) {\n    return function () {\n      // args.unshift('[popup.js]');\n      var time = new Date().toUTCString();\n\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      log.push([level, time].concat(args));\n      postMessage.apply(_this, [{\n        type: tag,\n        level: level,\n        time: time,\n        args: JSON.stringify(args)\n      } // { type: 'LOG', level: level, time: time, args: JSON.stringify(deepClone(args)) }\n      ]);\n      return method.apply(c, args);\n    };\n  };\n\n  for (var level in orig) {\n    c[level] = inject(orig[level], level);\n  }\n};\n\nexports.popupConsole = popupConsole;"]},"metadata":{},"sourceType":"script"}