{"ast":null,"code":"var Utils = require('./utils');\n\nfunction getColorAttrib(color, attrib) {\n  var alpha = color.a / 255;\n  var str = attrib + '=\"' + color.hex + '\"';\n  return alpha < 1 ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"' : str;\n}\n\nfunction svgCmd(cmd, x, y) {\n  var str = cmd + x;\n  if (typeof y !== 'undefined') str += ' ' + y;\n  return str;\n}\n\nfunction qrToPath(data, size, margin) {\n  var path = '';\n  var moveBy = 0;\n  var newRow = false;\n  var lineLength = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    var col = Math.floor(i % size);\n    var row = Math.floor(i / size);\n    if (!col && !newRow) newRow = true;\n\n    if (data[i]) {\n      lineLength++;\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow ? svgCmd('M', col + margin, 0.5 + row + margin) : svgCmd('m', moveBy, 0);\n        moveBy = 0;\n        newRow = false;\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength);\n        lineLength = 0;\n      }\n    } else {\n      moveBy++;\n    }\n  }\n\n  return path;\n}\n\nexports.render = function render(qrData, options, cb) {\n  var opts = Utils.getOptions(options);\n  var size = qrData.modules.size;\n  var data = qrData.modules.data;\n  var qrcodesize = size + opts.margin * 2;\n  var bg = !opts.color.light.a ? '' : '<path ' + getColorAttrib(opts.color.light, 'fill') + ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n  var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') + ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n  var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n  var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n  var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag);\n  }\n\n  return svgTag;\n};","map":{"version":3,"sources":["/home/ryann/Documents/Repos/ChainSafe/chainbridge-ui/node_modules/qrcode/lib/renderer/svg-tag.js"],"names":["Utils","require","getColorAttrib","color","attrib","alpha","a","str","hex","toFixed","slice","svgCmd","cmd","x","y","qrToPath","data","size","margin","path","moveBy","newRow","lineLength","i","length","col","Math","floor","row","exports","render","qrData","options","cb","opts","getOptions","modules","qrcodesize","bg","light","dark","viewBox","width","svgTag"],"mappings":"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","sourcesContent":["var Utils = require('./utils')\n\nfunction getColorAttrib (color, attrib) {\n  var alpha = color.a / 255\n  var str = attrib + '=\"' + color.hex + '\"'\n\n  return alpha < 1\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n    : str\n}\n\nfunction svgCmd (cmd, x, y) {\n  var str = cmd + x\n  if (typeof y !== 'undefined') str += ' ' + y\n\n  return str\n}\n\nfunction qrToPath (data, size, margin) {\n  var path = ''\n  var moveBy = 0\n  var newRow = false\n  var lineLength = 0\n\n  for (var i = 0; i < data.length; i++) {\n    var col = Math.floor(i % size)\n    var row = Math.floor(i / size)\n\n    if (!col && !newRow) newRow = true\n\n    if (data[i]) {\n      lineLength++\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\n          : svgCmd('m', moveBy, 0)\n\n        moveBy = 0\n        newRow = false\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength)\n        lineLength = 0\n      }\n    } else {\n      moveBy++\n    }\n  }\n\n  return path\n}\n\nexports.render = function render (qrData, options, cb) {\n  var opts = Utils.getOptions(options)\n  var size = qrData.modules.size\n  var data = qrData.modules.data\n  var qrcodesize = size + opts.margin * 2\n\n  var bg = !opts.color.light.a\n    ? ''\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\n\n  var path =\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\n\n  var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\n\n  var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\n\n  var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag)\n  }\n\n  return svgTag\n}\n"]},"metadata":{},"sourceType":"script"}